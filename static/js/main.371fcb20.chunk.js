(this.webpackJsonpreminder=this.webpackJsonpreminder||[]).push([[0],{13:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=(a(13),a(1)),s=a(2),i=a.n(s),u=a(5),m=a(7),p=function(e,t){switch(t.type){case"SET_LOADING":return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0});case"SET_STORIES":return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,nbPages:t.payload.nbPages,hits:t.payload.hits});case"REMOVE_STORY":return Object(l.a)(Object(l.a)({},e),{},{hits:e.hits.filter((function(e){return e.objectID!==t.payload}))});case"HANDLE_SEARCH":return Object(l.a)(Object(l.a)({},e),{},{query:t.payload,page:0});case"HANDLE_PAGE":if("inc"===t.payload){var a=e.page+1;return a>e.nbPages-1&&(a=0),Object(l.a)(Object(l.a)({},e),{},{page:a})}if("dec"===t.payload){var n=e.page-1;return n<0&&(n=e.nbPages-1),Object(l.a)(Object(l.a)({},e),{},{page:n})}break;default:throw new Error('no matching "'.concat(t.type,'" action type'))}},d={isLoading:!0,hits:[],query:"react",page:0,nbPages:0},E=r.a.createContext(),b=function(e){var t=e.children,a=Object(n.useReducer)(p,d),c=Object(m.a)(a,2),o=c[0],s=c[1],b=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"SET_LOADING"}),e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,s({type:"SET_STORIES",payload:{hits:n.hits,nbPages:n.nbPages}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){b("".concat("https://hn.algolia.com/api/v1/search?","query=").concat(o.query,"&page=").concat(o.page))}),[o.query,o.page]);return r.a.createElement(E.Provider,{value:Object(l.a)(Object(l.a)({},o),{},{removeStory:function(e){s({type:"REMOVE_STORY",payload:e})},handleSearch:function(e){s({type:"HANDLE_SEARCH",payload:e})},handlePage:function(e){s({type:"HANDLE_PAGE",payload:e})}})},t)},f=function(){return Object(n.useContext)(E)},h=function(){var e=f(),t=e.query,a=e.handleSearch;return r.a.createElement("form",{action:"",className:"search-form",onSubmit:function(e){e.preventDefault()}},r.a.createElement("h2",null,"search hacker news"),r.a.createElement("input",{type:"text",className:"form-input",value:t,onChange:function(e){a(e.target.value)}}))},g=a(6),y=a.n(g),v=function(){var e=f(),t=e.isLoading,a=e.hits,n=e.removeStory;return t?r.a.createElement("div",{className:"loading"}):r.a.createElement("section",{className:"stories"},a.map((function(e){var t=e.objectID,a=e.title,c=e.url,o=e.num_comments,l=e.author,s=e.points,i=e.created_at;return r.a.createElement("article",{key:t,className:"story"},r.a.createElement("h4",{className:"title"},a),r.a.createElement("p",{className:"info"},s," points by ",r.a.createElement("span",null," ",l," | "),o," comments"),r.a.createElement("p",{className:"info"},"Created at"," ",y()(i).format("MMMM Do, dddd, YYYY")),r.a.createElement("div",null,r.a.createElement("a",{href:c,className:"read-link",target:"_blank",rel:"noopener noreferrer"}," ","read more"),r.a.createElement("button",{className:"remove-btn",onClick:function(){n(t)}},"remove")))})))},O=function(){var e=f(),t=e.page,a=e.nbPages,n=e.isLoading,c=e.handlePage;return r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{disabled:n,onClick:function(){return c("dec")}},"prev"),r.a.createElement("p",null,t+1," of ",a),r.a.createElement("button",{disabled:n,onClick:function(){return c("inc")}},"next"))};var j=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement(O,null),r.a.createElement(v,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null,r.a.createElement(j,null))),document.getElementById("root"))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.371fcb20.chunk.js.map